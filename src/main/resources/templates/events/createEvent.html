<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="/fragments/header :: head">
    <meta name="fileStackApi" th:content="${fileStackApi}">
    <meta name="mapboxToken" th:content="${mapboxToken}">
    <title>Create Event</title>
</head>
<body>
<nav th:replace="/fragments/navbar :: navbar"></nav>

<main style="margin: 5rem">
    <h1>Create an Event</h1>
    <div id="trails" th:each="trail : ${trails}">
        <input type="hidden" class="name" th:value="${trail.name}">
    </div>
    <div class="mapPoints" th:each="mapPoints : ${mapPoints}">
        <input type="hidden" class="lng" th:name="${mapPoints.trail.id}" th:value="${mapPoints.longitude}">
        <input type="hidden" class="lat" th:name="${mapPoints.trail.id}" th:value="${mapPoints.latitude}">
    </div>
    <form th:action="@{/create}" th:method="POST" th:object="${event}">
        <div>
            <label for="name">Event Name</label>
            <input name="name" id="name" th:field="*{name}" />
        </div>
        <div>
            <label for="eventDate">Date</label>
            <input type="date" name="eventDate" id="eventDate" />
        </div>
        <div>
            <label for="eventTime">Time</label>
            <input type="time" name="eventTime" id="eventTime" />
        </div>
        <div>
            <label for="meetLocation">Meet Location</label>
            <input type="text" name="meetLocation" id="meetLocation" th:field="*{meetLocation}" placeholder="parking lot #1"/>
        </div>
        <div>
            <label for="eventMeetTime">Meet Time</label>
            <input type="time" name="eventMeetTime" id="eventMeetTime" />
        </div>
        <div>
            <label for="eventDetails">Event Details</label>
            <textarea name="eventDetails" id="eventDetails" rows="5" cols="50" th:field="*{eventDetails}"></textarea>
        </div>
        <div>
            Choose your trail
            <div>
                <input type="radio" id="trailOption1" name="trailOption" class="trailOption" value="existing trail">
                <label for="trailOption1">Choose an existing trail</label>
            </div>
            <div>
                <input type="radio" id="trailOption2" name="trailOption" class="trailOption" value="customize trail">
                <label for="trailOption2">Customize your own trail</label>
            </div>
        </div>

        <div>
            <select id="trailOptions" name="trailOptions">
                <option value="">Nothing selected</option>
                <option th:each="trail : ${trails}" th:value="${trail.id}" th:text="${trail.name}"></option>
            </select>
        </div>
        <div>
            <label for="searchedName"></label>
            <input type="text" id="searchedName" name="mapSearch">
            <button type="button" id="mapSearch"><i class="fa fa-search"></i></button>
        </div>
        <div id="map" style="height: 500px"></div>
        <button type="submit" id="createEvent">Submit</button>
    </form>





    <div class="mask2" role="dialog"></div>
    <div class="modal2" role="alert">

        <!-- Modal content -->
        <div class="modal-content2">
            <div class="modal-header2">
                <!-- <span class="close">&times;</span> -->
                <h2 class="type1">RealTrail</h2>
                <br>

            </div>
            <div class="modal-body2">

                <div>
                    <h2>Customize Your Own Trail</h2>
                    <form action="/trails/create" method="POST">
                        <div>
                            <label for="trailName">Name</label>
                            <input type="text" id="trailName" name="trailName">
                        </div>
                        <div>
                            <label for="difficultyLevel">Difficulty Level</label>
                            <input type="text" id="difficultyLevel" name="difficultyLevel">
                        </div>
                        <div>
                            <label for="trailLength">Length</label>
                            <input type="number" id="trailLength" step="0.1" name="trailLength">
                        </div>
                        <div>
                            Type
                            <div>
                                <input type="radio" id="loop" name="trailType" value="Loop">
                                <label for="loop">Loop</label>
                            </div>
                            <div>
                                <input type="radio" id="out" name="trailType" value="Out and back">
                                <label for="out">Out and Back</label>
                            </div>
                            <div>
                                <input type="radio" id="point" name="trailType" value="Point to point">
                                <label for="point">Point to Point</label>
                            </div>
                            <div>
                                <input type="radio" id="cycleway" name="trailType" value="Cycleway">
                                <label for="cycleway">Cycleway</label>
                            </div>
                        </div>
                        <div>
                            <label for="trailDetails">Trail Details</label>
                            <textarea name="trailDetails" id="trailDetails" rows="5" cols="50"></textarea>
                        </div>
                        <div>
                            <button type="button" id="images">Upload images</button>
                            <input type="hidden" id="hidden" name="images" />
                            <div id="imagesUploadHint"><i class="fa fa-check hidden" style="color:green"></i></div>
                        </div>
                        <button type="submit" id="createTrail">Submit</button>
                    </form>
                </div>




                <!-- Generator: Adobe Illustrator 22.0.1, SVG Export Plug-In  -->
                <!-- Generator: Adobe Illustrator 22.0.1, SVG Export Plug-In  -->
                <svg class="mount" version="1.1"
                     xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:a="http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/"
                     x="0px" y="0px" width="100%" height="411.3px" viewBox="0 0 467.1 411.3" style="enable-background:new 0 0 467.1 411.3;"
                     xml:space="preserve">
<style type="text/css">
  .st0{fill:#00eeff;}
</style>
                    <defs>
</defs>
                    <path class="st0" d="M467,177.7c-2,0-3.2-4.5-5.1-4.7c-0.9-0.1-1.7-0.5-2.6-1c-1-0.5-1.7-1.6-2.7-2c-1.2-0.5-2.4-0.6-3.6-1.6
  c-1-0.8-1.7-2.2-2.7-3c-1.1-0.9-2.3-1.1-3.4-1.9c-1.2-0.8-2.2-1.8-3.4-2.3c-4.3-1.8-8.3-5.1-12.4-7.9c-1.8-1.2-3.6-1.6-5.5-2.6
  c-2.1-1.1-4.3-1.1-6.4-2.1c-2.2-1.1-4.4-2.6-6.6-3.6c-0.9-0.4-1.9-0.6-2.7-1.2c-0.9-0.7-1.7-2.1-2.7-2.5c-1.2-0.5-2.2-0.6-3.4-1.4
  c-1.1-0.8-2.3-1.2-3.4-1.9c-2-1.2-3.9-2-6-2.8c-2.3-0.8-4.5-2.9-6.8-4.2c-2.1-1.3-4.2-2.6-6.3-4.1c-2.5-1.8-5.4-1.7-7.8-4.1
  c-1.5-1.5-3.2-2.2-4.6-3.8c-1.2-1.4-2.1-2.7-3.5-3.7c-1-0.7-1.9-1.3-2.9-1.9c-2.1-1.5-4.2-3.7-6.3-5.5c-1.1-0.9-2.4-1.4-3.5-2.3
  c-1.1-0.8-2.1-2.1-3.2-3.2c-2.1-2.2-3.8-5.8-6-7.8c-2.2-2-4.4-3.2-6.6-5c-2-1.6-3.4-4.6-5.3-6.4c-0.9-0.8-1.4-1-2.2-2.3
  c-0.5-0.8-0.9-2.2-1.4-2.8c-0.8-0.9-1.7-1.1-2.6-0.9c-1.7,0.4-2.9,4.1-4.5,5.5c-1.7,1.5-4,2.2-5.8,0.7c-1.7-1.4-3-1.2-4.9-1.2
  c-1.3,0-2.6,0.2-3.8,0.1c-1-0.1-1.8-0.9-2.8-1c-2-0.2-4,0.2-6,0.1c-2.2-0.1-4.3-2.3-6.4-3.6c-0.8-0.5-1.8-0.9-2.4-2.1
  c-0.8-1.3-1.3-3.5-1.9-5c-0.8-1.8-1.9-3.1-2.7-4.8c-0.8-1.5-1.3-3.7-2.1-5c-0.7-1-1.4-1.7-2.1-2.8c-1.1-1.7-1.8-1.9-3.1-2.9
  c-0.9-0.7-2.3-1.8-3.1-2.9c-0.5-0.7-0.7-1.8-1.3-2.4c-0.5-0.6-1.2-0.7-1.8-1.1c-2.3-1.7-4.5-4.9-6.7-7.2c-2.4-2.5-4.2-5.9-6.8-7.4
  c-2.2-1.4-4.6-2.9-6.6-5.1c-1.1-1.2-2.2-1.5-3.2-2.9c-0.8-1.1-1.6-2.6-2.4-3.7c-1.8-2.3-3.9-3.5-5.6-5.7c-2.1-2.7-4.1-5.5-6.2-8.1
  c-0.9-1-1.6-1.7-2.6-2.5c-1.1-1-1.8-3.1-2.8-4.1c-0.5-0.5-1.2-0.3-1.8-0.6c-0.4-0.3-0.7-0.8-1.1-1C223.7-0.1,223,0,222,0
  c-2,0.1-3.4,2.6-4.9,4.9c-1.6,2.5-3.6,4-5.1,6.8c-1.4,2.6-3.1,5.3-4.8,7.3c-1.9,2.4-3,6.1-4.5,9.3c-0.8,1.6-1.7,3-2.6,4.3
  c-1,1.5-1.6,3.5-2.6,4.9c-1.1,1.7-2,3.1-2.8,5.3c-0.6,1.5-1.2,3.3-2.1,4.3c-1.2,1.4-1.8,2-2.9,4c-0.9,1.7-2,4-3,5.5
  c-2.1,2.9-4.1,6.3-6.4,8.7c-1.9,2-4,3.4-5.9,5.5c-0.8,0.8-1.4,2.5-2.2,3.1c-0.4,0.3-1,0-1.4,0.3c-1,0.7-1.7,2.6-2.7,3.5
  c-1.5,1.5-3.5,2.6-4.8,4.6c-1.9,2.7-4.2,4.3-6.1,7c-1.5,2-3.2,4.3-5,5.3c-3.5,1.9-7.4,7.5-11.3,5.7c-2-1-3.3-3.5-5.6-2.5
  c-0.8,0.4-1.3,0.7-2.2,0.8c-0.8,0-1.7-0.3-2.5,0c-0.9,0.3-1.9,1.4-2.8,2.2c-0.8,0.7-1.7,1.2-2.4,1.9c-0.6,0.6-0.9,1.4-1.6,1.7
  c-0.4,0.2-0.9-0.1-1.3,0.1c-0.7,0.4-1.3,1.4-2.1,1.8c-1.1,0.6-2.4,0.8-3.5,1.6c-0.8,0.5-1.3,1.2-2.2,1.5c-1.6,0.5-3.2,1.8-4.8,2
  c-3.4,0.4-7.7,0.8-10.8-1.6c-2.2-1.6-3.9-4-6.1-5.4c-2-1.2-3.8-1.9-5.8-2.7c-0.7-0.3-1.1-1.3-1.7-1.7c-0.4-0.3-1-0.1-1.4-0.4
  c-1.2-0.7-1.6-1.6-2.9-1.7c-1.9-0.2-3.6-1.7-5.4-2.7c-1-0.5-2.1-1-3.1-1.2c-1.1-0.2-1.6-1.2-2.6-1.7c-0.8-0.5-1.7,0-2.6-0.4
  c-1.1-0.4-1.7-1.7-2.6-2.7c-0.6-0.8-2.4-3-3.1-3c-0.7,0-1.8,1.8-2.5,2.4c-0.9,0.7-1.6,1.4-2.6,1.7c-1.1,0.3-1.3,0.6-2.3,1.7
  c-2,2.1-3.9,4.1-5.5,7.1c-1.6,2.7-3.3,2.2-5.2,3c-1,0.4-2.2,2.3-3.1,3.3c-1.3,1.4-2.7,2.5-3.9,4.1c-1.2,1.5-2,2.5-3.4,3.3
  c-0.8,0.5-1.8,0.6-2.6,1.2c-2.2,1.6-4.1,4.8-5.7,7.8c-0.9,1.6-2,2.3-3,3.6c-1,1.3-1.7,3.4-2.6,4.8c-0.7,1.1-1.4,1.2-2.1,2.1
  c-0.4,0.6-0.6,1.3-1.1,1.8c-0.5,0.5-1,0.5-1.4,1.1c-0.5,0.6-0.9,1.9-1.4,2.6c-0.9,1.3-1.4,2.1-2.2,3.8c-0.7,1.7-1.4,2.5-2.3,4
  c-2,3.7-4.4,19-6.1,23.3c-1,2.6-2.7,5.8-3,9.1c0,129,104.6,233.5,233.5,233.5S467.1,306.7,467,177.7L467,177.7z"/>
</svg>



            </div>
            <div class="modal-footer2">


                <!-- Generator: Adobe Illustrator 22.0.1, SVG Export Plug-In  -->
                <svg class="close" version="1.1"
                     xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:a="http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/"
                     x="0px" y="0px" width="100%" height="24.6px" viewBox="0 0 24.6 24.6" style="enable-background:new 0 0 24.6 24.6;"
                     xml:space="preserve">
<style type="text/css">
.st0{fill:#FFFFFF;}
</style>
                    <defs>
</defs>
                    <path class="st0" d="M24,16.9l-4.6-4.6L24,7.7c0.7-0.7,0.7-1.9,0-2.7l-4.5-4.5c-0.7-0.7-1.9-0.7-2.7,0l-4.6,4.6L7.7,0.6
C6.9-0.2,5.7-0.2,5,0.6L0.6,5c-0.7,0.7-0.7,1.9,0,2.7l4.6,4.6l-4.6,4.6c-0.7,0.7-0.7,1.9,0,2.7L5,24c0.7,0.7,1.9,0.7,2.7,0l4.6-4.6
l4.6,4.6c0.7,0.7,1.9,0.7,2.7,0l4.5-4.5C24.8,18.8,24.8,17.6,24,16.9z"/>
</svg>
            </div>
        </div>

    </div>

    <a class="close" role="button"></a>
    </div>

<script>

    // ******************** MODAL JS *******************

    // Click function for show the Modal

    $("#trailOption2").on("click", function(){
        $(".mask2").addClass("active2");
    });

    // Function for close the Modal

    function closeModalTwo(){
        $(".mask2").removeClass("active2");
    }

    // Call the closeModal function on the clicks/keyboard

    $(".close, .mask2").on("click", function(){
        closeModalTwo();
    });

    $(document).keyup(function(e) {
        if (e.keyCode === 27) {
            closeModalTwo();
        }
    });


    // ******************** MODAL JS *******************



</script>








</main>

<!-- Mapbox JS -->
<script src='https://api.mapbox.com/mapbox-gl-js/v2.2.0/mapbox-gl.js'></script>
<!-- Mapbox Geocoder Util Methods -->
<script src="/js/mapbox-geocoder-utils.js"></script>
<script src="https://static.filestackapi.com/filestack-js/3.x.x/filestack.min.js"></script>
<script th:inline="javascript">
    // assign fileStackApi to a variable
    const fileStackApi = [[${fileStackApi}]];
    // assign mapboxToken to a variable
    const mapboxToken = [[${mapboxToken}]];
    console.log(fileStackApi);
</script>
<script src="/js/fileStackImgUpload.js"></script>
<script src="/js/map.js"></script>
<script src="/js/navbar.js"></script>
</body>
</html>

